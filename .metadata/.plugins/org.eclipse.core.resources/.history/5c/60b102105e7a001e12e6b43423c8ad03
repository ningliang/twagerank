package twagerank;

import java.io.File;
import java.io.FileNotFoundException;

import logutils.LogFile;

public class PageRank {
	File logDir;
	String outPath;
	
	// Internal state
	// TODO
	
	public PageRank(String logPath, String outPath) {
		this.outPath = outPath;
		this.logDir = new File(logPath);
	}
	
	public void run() {
		loadFile(logDir);
		// Load files into memory
		// Initiate page rank guesses, based on state
		// Power method until epsilon reached
		// Write state to file
	}
	
	private void loadFile(File file) throws FileNotFoundException {
		if (file.isDirectory()) {
			for (File subFile : file.listFiles()) loadFile(subFile);
		} else {
			if (file.toString().endsWith(".txt")) {
				LogFile logFile = new LogFile(file.toString());
				Result result = null;
				while ((result = logFile
			}
		}
	}
	
	public static void Main(String[] args) {
		if (args.length == 2) {
			PageRank pageRank = new PageRank(args[0], args[1]);
			pageRank.run();
		} else {
			System.out.println("Usage: logDir outFile");
		}
	}
}
