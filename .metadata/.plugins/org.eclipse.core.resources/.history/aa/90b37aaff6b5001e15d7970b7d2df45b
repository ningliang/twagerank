package twage_rank;

import log_utils.Result;
import log_utils.ResultHandler;

public class Initializer implements ResultHandler {
	Int2DoubleOpenHashMap probabilityMap = new Int2DoubleOpenHashMap();
	Int2IntOpenHashMap outDegreeMap = new Int2IntOpenHashMap();
	
	public void handleResult(Result result) {
		if (result.isSuccessful()) {
			probabilityMap.put(result.getId(), 1.0);
			if (!outDegreeMap.containsKey(result.getId()) outDegreeMap.put(result.getId(), 0);
			outDegreeMap.put(result.getId(), outDegreeMap.get(result.getId() + 1));
		}
	}
	
	public Int2DoubleOpenHashMap getProbabilityMap() { return this.probabilityMap; }
	public Int2IntOpenHashMap getOutDegreeMap() { return this.outDegreeMap; }
	
}
